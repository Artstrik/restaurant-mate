{% extends "base.html" %}

{% block content %}
  <h1>
    Cook: {{ cook.username }}
    {% if user == cook %} (Me){% endif %}
    <a href="{% url 'kitchen:cook-delete' pk=cook.id %}" class="btn btn-danger link-to-page">
      Delete
    </a>

    <a href="{% url 'kitchen:cook-update' pk=cook.id %}" class="btn btn-secondary link-to-page">
      Update cook
    </a>
  </h1>

  <p><strong>First name:</strong> {{ cook.first_name }}</p>
  <p><strong>Last name:</strong> {{ cook.last_name }}</p>
  <p><strong>Email:</strong> {{ cook.email }}</p>
  <p><strong>Years of experience:</strong> {{ cook.years_of_experience }}</p>
  <p><strong>Is staff:</strong> {{ cook.is_staff }}</p>

  <div class="ml-3">
    <h4>Dishes cooked by {{ cook.username }}:</h4>

    {% if cook.dishes.all %}
      <table class="table">
        <tr>
          <th>Name</th>
          <th>Dish Type</th>
          <th>Price</th>
          <th>ID</th>
        </tr>
        {% for dish in cook.dishes.all %}
        <tr>
          <td>
            <a href="{% url 'kitchen:dish-detail' pk=dish.id %}">{{ dish.name }}</a>
          </td>
          <td>{{ dish.dish_type.name }}</td>
          <td>${{ dish.price }}</td>
          <td class="text-muted">{{ dish.id }}</td>
        </tr>
        {% endfor %}
      </table>
    {% else %}
      <p>No dishes assigned to this cook!</p>
    {% endif %}
  </div>
{% endblock %}